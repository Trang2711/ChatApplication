  Message message = mqtt.receiveMess();
            System.out.println(message.getContent());

            if(message.getHeader().equals("c")) {
                if(message.getContent().equals("UPLOAD")) {

                    mqtt.sendMess(new Message("t", "200 OK Upload"));

                    String filePath = mqtt.receiveMess().getContent();
                    mqtt.sendMess(new Message("t", "210 OK File path"));
                    long fileSize = Long.parseLong(mqtt.receiveMess().getContent());
                    mqtt.sendMess(new Message("t", "210 OK File size"));

                    mqtt.receiveFile(filePath, fileSize);

                } else if (message.equals("DOWNLOAD")) {

                    mqtt.sendMess(new Message("t", "200 OK Download"));

                    String filePath = mqtt.receiveMess().getContent();
                    mqtt.sendMess(new Message("t", "210 OK File path"));

                    if(hasFile(filePath)) {

                        long fileSize = getFileSize(filePath);
                        this.mqtt.sendMess(new Message("t", String.valueOf(fileSize)));

                        mqtt.sendFile(filePath);
                    } else {
                        this.mqtt.sendMess(new Message("t", "404 Not found"));
                    }
                }

            }
        } catch(EOFException e){
            // TODO Auto-generated catch block
            e.printStackTrace();
            try {
				this.socket.close();
			} catch (IOException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();